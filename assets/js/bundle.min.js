"use strict";$(document).ready(function(){function h(e,t,a,i,d,s,n){Draggable.create($(e),{bounds:t,onPress:function(e){1==a&&this.applyBounds({top:-n,left:-d,width:i,height:s}),u=this.target,f($(u).data("item"))},onDrag:function(e){var t,a,i,d,s,n,o,l,c,r,m=$(u).position().top,p=$(u).position().left,v=$(u).data("item");$(u).hasClass("clonable")?this.hitTest($("#dropAreaTop"))&&($(u).clone().addClass("cloned foo "+$(u).data("item")+"'").removeClass("clonable").appendTo($("#dropAreaBottom")),$(u).clone().addClass("cloned quux "+$(u).data("item")+"'").removeClass("clonable").appendTo($("#dropAreaTop")),f(v),$(u).removeClass("clonable"),setTimeout(function(){var e=$(".cloned[data-item="+v+"].quux")[0].getBoundingClientRect();h($(".cloned[data-item="+v+"].quux"),"#dropAreaTop",!0,338+e.width-8+e.width/2,e.width/2,260+2*e.height-16,e.height-8),Draggable.get($(".cloned[data-item="+v+"].quux")).kill(),h($(".cloned[data-item="+v+"].quux"),"#dropAreaTop",!0,338+e.width-8+e.width/2,e.width/2,260+2*e.height-16,e.height-8),h($(".cloned[data-item="+v+"].foo"),"#dropAreaBottom",!0,338+e.width-8+e.width/2,e.width/2,260+2*e.height-16,e.height-8),Draggable.get($(".cloned[data-item="+v+"].foo")).kill(),$(".item[data-item="+v+"]").not(".cloned").hide()},16),c=p,r=m,$(".cloned[data-item="+v+"]").css({top:"0px",transform:"translate3d("+(c-400)+"px, "+r+"px, 0px)"})):$(u).hasClass("cloned")&&(this.hitTest($("#itemsWrapper"),"45%")?($("."+$(u).data("item")).css({display:"block"}).addClass("clonable"),$(".cloned[data-item="+v+"]").remove(),$(".cloned[data-item="+v+"]").remove()):this.hitTest($("#dropAreaTop"),"1%")&&(s=v,n=p,o=m,l=0,$.each($("#dropAreaBottom .item"),function(e,t){$(t).css("z-index")>l&&(l=$(t).css("z-index"))}),$(".foo.cloned[data-item="+s+"]").css({top:"0px",transform:"translate3d("+n+"px, "+o+"px, 0px) scale(1)","z-index":++l}),t=v,a=p,i=m,d=0,$.each($("#dropAreaBottom .item"),function(e,t){$(t).css("z-index")>d&&(d=$(t).css("z-index"))}),$(".quux.cloned[data-item="+t+"]").css({top:"0px",transform:"translate3d("+a+"px, "+i+"px, 0px) scale(1)",filter:"contrast(200%)","z-index":++d})))}})}function i(){for(var e=3;e<=9;e++){$(".container-"+e).children().width();for(var t=0;t<$(".container-"+e).children().length;t++)$(".container-"+e+"-"+t).empty(),$("#dropAreasContainer").clone().addClass("iamcloned").css({transform:"scale("+a[e-3].scale+") rotate(90deg)","transform-origin":"0% 0% 0px",background:"none",left:a[e-3].left+"px",top:"0px",position:"absolute"}).appendTo($(".container-"+e+"-"+t))}}function f(e){var a=0;$.each($("#dropAreaBottom .item"),function(e,t){$(t).css("z-index")>a&&(a=$(t).css("z-index"))}),$(".foo.cloned[data-item="+e+"]").css({"z-index":++a}),$(".quux.cloned[data-item="+e+"]").css({"z-index":++a})}$("#itemsWrapper").append("<div class='item item-0 clonable' data-item='item-0' id='item_0'></div>"),$("#itemsWrapper").append("<div class='item item-1 clonable' data-item='item-1' id='item_1'></div>"),$("#itemsWrapper").append("<div class='item item-2 clonable' data-item='item-2' id='item_2'></div>"),$("#itemsWrapper").append("<div class='item item-3 clonable' data-item='item-3' id='item_3'></div>"),$("#itemsWrapper").append("<div class='item item-4 clonable' data-item='item-4' id='item_4'></div>"),$("#itemsWrapper").append("<div class='item item-5 clonable' data-item='item-5' id='item_5'></div>"),$("#itemsWrapper").append("<div class='item item-6 clonable' data-item='item-6' id='item_6'></div>"),$("#itemsWrapper").append("<div class='item item-7 clonable' data-item='item-7' id='item_7'></div>"),$("#itemsWrapper").append("<div class='item item-8 clonable' data-item='item-8' id='item_8'></div>"),$("#itemsWrapper").append("<div class='item item-9 clonable' data-item='item-9' id='item_9'></div>"),$("#itemsWrapper").append("<div class='item item-10 clonable' data-item='item-10' id='item_10'></div>"),$("#itemsWrapper").append("<div class='item item-11 clonable' data-item='item-11' id='item_11'></div>"),$("#itemsWrapper").append("<div class='item item-12 clonable' data-item='item-12' id='item_12'></div>");var u=void 0,a=[{scale:"0.53",left:"276"},{scale:"0.44",left:"228"},{scale:"0.3875",left:"203"},{scale:"0.335",left:"174"},{scale:"0.308",left:"159"},{scale:"0.292",left:"151"},{scale:"0.262",left:"136"}];$.each($(".item"),function(e,t){$(t).css({transform:"translate("+320*Math.random()+"px, "+440*Math.random()+"px)"}),h(t,"#itemsWrapper",!1,-999,-999,-999,-999)});$(document).on("keypress",function(e){var t=e.keyCode;if(32==t){var a=$(".finalGreeting").hasClass("on");$(".finalGreeting").toggleClass("on",!a).toggleClass("off",a),$("#starsWrapper").removeClass("active")}else 51==t?$("main").toggleClass("active"):52==t&&i()}),$("#slider").slider({orientation:"vertical",value:7,min:1,max:7,step:1,tabindex:1,slide:function(e,t){switch($("div[class^='container-']").removeClass("active"),t.value){case 1:$(".container-9").addClass("active");break;case 2:$(".container-8").addClass("active");break;case 3:$(".container-7").addClass("active");break;case 4:$(".container-6").addClass("active");break;case 5:$(".container-5").addClass("active");break;case 6:$(".container-4").addClass("active");break;case 7:$(".container-3").addClass("active")}}}),$("#buttonNext").on("click",function(){$("main").addClass("active"),i()}),$("#buttonPrev").on("click",function(){$("main").removeClass("active"),setTimeout(function(){for(var e=3;e<=9;e++)for(var t=0;t<$(".container-"+e).children().length;t++)$(".container-"+e+"-"+t).empty()},1250)})});